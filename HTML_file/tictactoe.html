<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac toe</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav>
        <ul>
            <li>Play With Me </li>
        </ul>
    </nav>
    <div class="gamecontainer">
        <div class="container">
            <div class="line"></div>
            <div class="box bl-0 bt-0"><span class="boxtext"></span></div>
            <div class="box bt-0"><span class="boxtext"></span></div>
            <div class="box br-0 bt-0"><span class="boxtext"></span></div>
            <div class="box bl-0"><span class="boxtext"></span></div>
            <div class="box"><span class="boxtext"></span></div>
            <div class="box br-0"><span class="boxtext"></span></div>
            <div class="box bl-0 bb-0"><span class="boxtext"></span></div>
            <div class="box bb-0"><span class="boxtext"></span></div>
            <div class="box bb-0 br-0"><span class="boxtext"></span></div>
        </div>
        <div class="gameinfo">
            <h1>
                Welcome to Tic Tac Toe
            </h1>
            <div>
                <span class="info">Turn for X</span>
                <button id="reset">Reset</button>
            </div>
            <div class="imgbox">
                <img src="images/enjoy-baby-unscreen.gif" alt="">
            </div>
        </div>
    </div>

    <!-- <script src="script.js"></script> -->
    <script>console.log("Welcome to Tic Tac Toe")
        let turn1 = new Audio("music/Notification.mp3")
        let turn = "X"
        let gameover = false
        
        const changeTurn = ()=>{
            return turn === "X"?"0": "X"
        }
        
        const checkWin = ()=>{ 
            let boxtexts = document.getElementsByClassName("boxtext");
            let wins = [
                [0, 1, 2, 0, 12, 0],
                [3, 4, 5, 0, 36, 0],
                [6, 7, 8, 0, 60, 0],
                [0, 3, 6, -8.5, 36, 90],
                [1, 4, 7 , 0, 36, 90],
                [2, 5, 8, 8.5, 36, 90],
                [0, 4, 8, 0, 36, 45],
                [2, 4, 6, 0.5, 36, 130],
            ]
            wins.forEach(e =>{
                if((boxtexts[e[0]].innerText === boxtexts[e[1]].innerText) && (boxtexts[e[2]].innerText === boxtexts[e[1]].innerText) && (boxtexts[e[0]].innerText !== "") ){
                    document.querySelector('.info').innerText = boxtexts[e[0]].innerText + " Won"
                    gameover = true
                    document.querySelector('.imgbox').getElementsByTagName('img')[0].style.width = "200px"
                    document.querySelector('.line').style.transform = `translate(${e[3]}vw, ${e[4]}vh) rotate(${e[5]}deg)`
                    document.querySelector('.line').style.width = "25vw";
                }
            })
        
        }
        
        let boxes = document.getElementsByClassName("box");
        Array.from(boxes).forEach(element =>{
            let boxtext = element.querySelector('.boxtext');
            element.addEventListener('click', ()=>{
                if(boxtext.innerText === ''){
                    boxtext.innerText = turn;
                    turn = changeTurn();
                    turn1.play();
                    checkWin();
                    if(!gameover){
                        document.getElementsByClassName("info")[0].innerText ="Turn for" + turn;
                    }
                }
            })
        })
        
        reset.addEventListener('click',()=>{
            let boxtexts = document.querySelectorAll('.boxtext');
            Array.from(boxtexts).forEach(element =>{
                element.innerText = ""
            })
            turn = "X"
            document.getElementsByClassName("info")[0].innerText ="Turn for" + turn;
            gameover = false
            document.querySelector('.imgbox').getElementsByTagName('img')[0].style.width = "0px"
            document.querySelector('.line').style.width = "0vw";
        
        })</script>
</body>
</html>